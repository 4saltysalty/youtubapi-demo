(this["webpackJsonpyoutube-api-demo"]=this["webpackJsonpyoutube-api-demo"]||[]).push([[0],{41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},48:function(t,e,n){},49:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},57:function(t,e,n){},58:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n(0),c=n.n(a),s=n(32),r=n.n(s),o=n(13),l=(n(41),n(6)),d=n(7),u=n(9),j=n(8),h=n(3),m=(n(42),n(43),function(){return Object(i.jsxs)("div",{className:"header",children:[Object(i.jsx)(o.b,{className:"logo-container",to:"/",children:Object(i.jsx)("h1",{className:"logo",children:"DEMO"})}),Object(i.jsxs)("div",{className:"navigation",children:[Object(i.jsx)(o.b,{className:"option",to:"/",children:" \u9996\u9801 "}),Object(i.jsx)(o.b,{className:"option",to:"/favorites",children:" \u6211\u7684\u6536\u85cf "}),Object(i.jsx)(o.b,{className:"option",to:"/projector",children:" \u64ad\u653e "})]})]})}),b=n(16),p=n(15),O=(n(48),n(21)),f=(n(49),function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).timeString=function(t){for(var e=Object(O.parse)(t),n=[e.years,e.months,e.days,e.hours,e.minutes,e.seconds],i="",a=0;a<n.length;a++)n[a]&&n[a]>0&&(i+=n[a],i+=a<n.length-1?":":"");return i},i.cutoffString=function(t,e){var n=t.slice(0,e);return t.length>e&&(n+="..."),n},i}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.vdid,n=t.title,a=t.description,c=t.duration,s=t.thumbnails,r=(Object(p.a)(t,["vdid","title","description","duration","thumbnails"]),"/projector/"+e);return Object(i.jsxs)("div",{className:"card",children:[Object(i.jsx)(o.b,{to:r,children:Object(i.jsxs)("div",{className:"card-container",children:[Object(i.jsx)("img",{className:"card-image",src:s.medium.url,alt:""}),Object(i.jsx)("div",{className:"card-duration",children:this.timeString(c)})]})}),Object(i.jsxs)("div",{className:"card-info",children:[Object(i.jsx)("h4",{className:"card-title",children:this.cutoffString(n,40)}),Object(i.jsx)("p",{className:"card-description",children:this.cutoffString(a,100)})]})]})}}]),n}(c.a.Component)),v=function(t){var e=t.result;return Object(i.jsx)("div",{className:"collection",children:e.items.map((function(t){var e=t.id,n=t.snippet,a=t.contentDetails,c=Object(p.a)(t,["id","snippet","contentDetails"]);return Object(i.jsx)(f,Object(b.a)({vdid:e,title:n.title,description:n.description,duration:a.duration,thumbnails:n.thumbnails},c),e)}))})},x=n(26),g=n.n(x),N=n(34),y="AIzaSyDEA7zZ9AYlB6NKG7DMycAWoThNn_pMEwo",S="https://www.googleapis.com/youtube/v3/",k="https://www.youtube.com/watch",D=function(){var t=Object(N.a)(g.a.mark((function t(e){var n,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new URL(S+"videos"),(i=new URLSearchParams(e)).append("key",y),n.search=i.toString(),t.next=6,fetch(n).then((function(t){return t.json()}));case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(t){var e=new URL(k),n=new URLSearchParams({v:t});return e.search=n.toString(),e.toString()},C=(n(51),function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).state={isLoaded:!1,result:null},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;D({part:"snippet,contentDetails",chart:"mostPopular",regionCode:"TW",maxResults:12}).then((function(e){t.setState({result:e,isLoaded:!0})}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var t=this.state,e=t.isLoaded,n=t.result;return e?Object(i.jsx)("div",{className:"homepage",children:Object(i.jsx)(v,{result:n})}):Object(i.jsx)("div",{className:"loading",children:"Loading..."})}}]),n}(c.a.Component)),I=(n(52),n(53),function(t){var e=t.children,n=t.vdid,a=t.isTrash,c=t.isHeart,s=t.isCollected,r=Object(p.a)(t,["children","vdid","isTrash","isHeart","isCollected"]);return Object(i.jsx)("button",Object(b.a)(Object(b.a)({className:"".concat(a?"trash":""," ").concat(c?s?"heart collected":"heart":"","  custom-button"),"data-id":n},r),{},{children:e}))}),L=n(18),H=n(19),J=(n(57),function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).timeString=function(t){for(var e=Object(O.parse)(t),n=[e.years,e.months,e.days,e.hours,e.minutes,e.seconds],i="",a=0;a<n.length;a++)n[a]&&n[a]>0&&(i+=n[a],i+=a<n.length-1?":":"");return i},i.cutoffString=function(t,e){var n=t.slice(0,e);return t.length>e&&(n+="..."),n},i}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.vdid,n=t.title,a=t.description,c=t.duration,s=t.thumbnails,r=t.removeHandler,l=(Object(p.a)(t,["vdid","title","description","duration","thumbnails","removeHandler"]),"/projector/"+e);return Object(i.jsxs)("div",{className:"listitem",children:[Object(i.jsx)(o.b,{to:l,children:Object(i.jsxs)("div",{className:"listitem-container",children:[Object(i.jsx)("img",{className:"listitem-image",src:s.medium.url,alt:""}),Object(i.jsx)("div",{className:"listitem-duration",children:this.timeString(c)})]})}),Object(i.jsxs)("div",{className:"listitem-info",children:[Object(i.jsx)("h4",{className:"listitem-title",children:this.cutoffString(n,100)}),Object(i.jsx)("span",{className:"listitem-description",children:this.cutoffString(a,300)})]}),Object(i.jsx)("div",{className:"listitem-func",children:Object(i.jsx)(I,{isTrash:!0,onClick:r,vdid:e,children:Object(i.jsx)(L.a,{icon:H.b,size:"2x"})})})]})}}]),n}(c.a.Component)),M=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){return Object(l.a)(this,n),e.call(this,t)}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props,e=t.result,n=t.empty,a=t.removeHandler;return Object(i.jsx)("div",{className:"list",children:n?Object(i.jsx)("h3",{children:"\u60a8\u9084\u672a\u6536\u85cf\u5f71\u7247\u5594!"}):e.items.map((function(t){var e=t.id,n=t.snippet,c=t.contentDetails,s=Object(p.a)(t,["id","snippet","contentDetails"]);return Object(i.jsx)(J,Object(b.a)({vdid:e,title:n.title,description:n.description,duration:c.duration,thumbnails:n.thumbnails,removeHandler:a},s),e)}))})}}]),n}(c.a.Component),T="MY_VIDEO_COLLECTION",E=(n(58),function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).query=function(t){return D({part:"snippet,contentDetails",id:t.join(",")})},i.removeVideoFromList=function(t){var e=t.currentTarget.dataset.id,n=JSON.parse(localStorage.getItem(T));n.splice(n.indexOf(e),1),localStorage.setItem(T,JSON.stringify(n)),n.length<1?i.setState({result:null,empty:!0}):i.query(n).then((function(t){i.setState({result:t})}))},i.state={empty:!0,isLoaded:!1,result:null},localStorage.getItem(T)||localStorage.setItem(T,"[]"),i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem(T));e.length<1?this.setState({isLoaded:!0}):this.query(e).then((function(e){t.setState({result:e,isLoaded:!0,empty:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.isLoaded,n=t.result,a=t.empty;return e?Object(i.jsxs)("div",{className:"favoritespage",children:[Object(i.jsx)("h3",{children:"\u6211\u7684\u6536\u85cf\u5f71\u7247"}),Object(i.jsx)(M,{result:n,empty:a,removeHandler:this.removeVideoFromList})]}):Object(i.jsx)("div",{className:"loading",children:"Loading..."})}}]),n}(c.a.Component)),U=n(35),q=n.n(U),z=(n(76),function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).query=function(t){return D({part:"snippet",id:t})},i.pauseHandler=function(){i.setState({adDisplay:!0})},i.collectHandler=function(t){var e=t.currentTarget.dataset.id,n=JSON.parse(localStorage.getItem(T));n.indexOf(e)>-1?alert("\u5df2\u7d93\u6536\u85cf\u56c9!"):(n.push(e),localStorage.setItem(T,JSON.stringify(n)),i.setState({collected:!0}))},i.removeHandler=function(t){var e=t.currentTarget.dataset.id,n=JSON.parse(localStorage.getItem(T));n.splice(n.indexOf(e),1),localStorage.setItem(T,JSON.stringify(n)),i.setState({collected:!1})},i.state={source:null,item:null,collected:!1,isYoutube:!1,adDisplay:!1},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.youtubeId;e?(JSON.parse(localStorage.getItem(T)).indexOf(e)>-1&&this.setState({collected:!0}),this.query(e).then((function(n){t.setState({item:n.items[0],source:w(e),isYoutube:!0})}))):this.setState({item:{snippet:{title:"m3u8\u6e2c\u8a66\u5f71\u7247"}},source:"https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8"})}},{key:"render",value:function(){var t=this,e=this.state,n=e.source,a=e.item,c=e.collected,s=e.isYoutube,r=e.adDisplay;return Object(i.jsxs)("div",{className:"projectorpage",children:[Object(i.jsx)("div",{className:"projectorpage-player",children:Object(i.jsx)(q.a,{url:n,playing:!0,controls:!0,onPause:this.pauseHandler,width:"100%",height:"100%"})}),a&&Object(i.jsxs)("div",{className:"projectorpage-info",children:[Object(i.jsxs)("div",{className:"projectorpage-info-titlebox",children:[Object(i.jsx)("h2",{className:"projectorpage-info-titlebox-title",children:a.snippet.title}),s&&Object(i.jsx)("div",{className:"projectorpage-info-titlebox-func",children:c?Object(i.jsx)(I,{isHeart:!0,isCollected:!0,onClick:this.removeHandler,vdid:a.id,children:Object(i.jsx)(L.a,{icon:H.a,size:"2x"})}):Object(i.jsx)(I,{isHeart:!0,onClick:this.collectHandler,vdid:a.id,children:Object(i.jsx)(L.a,{icon:H.a,size:"2x"})})})]}),Object(i.jsx)("article",{className:"projectorpage-info-desc",children:a.snippet.description})]}),r&&Object(i.jsx)("div",{className:"advertisement",onClick:function(){t.setState({adDisplay:!1})},children:Object(i.jsx)("div",{className:"advertisement-content",children:" \u5ee3\u544a "})})]})}}]),n}(c.a.Component)),R=function(t){Object(u.a)(n,t);var e=Object(j.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).state={},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(m,{}),Object(i.jsxs)(h.c,{children:[Object(i.jsx)(h.a,{exact:!0,path:"/",component:C}),Object(i.jsx)(h.a,{exact:!0,path:"/projector",component:z}),Object(i.jsx)(h.a,{path:"/projector/:youtubeId",component:z}),Object(i.jsx)(h.a,{path:"/favorites",component:E})]})]})}}]),n}(c.a.Component);r.a.render(Object(i.jsx)(o.a,{children:Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(R,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.e486adc6.chunk.js.map