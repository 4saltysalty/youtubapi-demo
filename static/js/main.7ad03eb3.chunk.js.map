{"version":3,"sources":["components/header/header.component.jsx","components/card/card.component.jsx","components/collection/collection.component.jsx","youtube/youtube.v3.util.js","pages/homepage/homepage.component.jsx","components/custom-button/custom-button.component.jsx","components/list-item/list-item.component.jsx","components/list/list.component.jsx","systemconfig.js","pages/favorites/favorites.component.jsx","pages/projector/projector.component.jsx","App.js","index.js"],"names":["Header","className","to","Card","props","timeString","duration","parse","arr","years","months","days","hours","minutes","seconds","str","i","length","cutoffString","description","limit","slice","this","vdid","title","thumbnails","href","src","medium","url","alt","React","Component","Collection","result","items","map","id","snippet","contentDetails","itemProps","youtubeConfig","searchListVideo","params","a","apiUrl","URL","searchParams","URLSearchParams","append","search","toString","fetch","then","response","json","watchYoutubeUrl","videoId","watchUrl","HomePage","state","isLoaded","part","chart","regionCode","maxResults","setState","CustomButton","children","isTrash","isHeart","isCollected","otherProps","data-id","ListItem","removeHandler","onClick","icon","faTrash","size","List","empty","VIDEO_COLLECTION","FavoritesPage","query","collection","join","removeVideoFromList","evt","currentTarget","dataset","JSON","localStorage","getItem","splice","indexOf","setItem","stringify","Projectorpage","vid","pauseHandler","adDisplay","collectHandler","alert","push","collected","source","item","isYoutube","youtubeId","match","playing","controls","onPause","width","height","faHeart","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7ad03eb3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './header.styles.sass';\r\n\r\nconst Header = () => (\r\n    <div className=\"header\">\r\n        <Link className=\"logo-container\" to=\"/\"> \r\n            <h1 className=\"logo\">DEMO</h1>\r\n        </Link>\r\n        <div className=\"navigation\">\r\n            <Link className=\"option\" to=\"/\"> 首頁 </Link>\r\n            <Link className=\"option\" to=\"/favorites\"> 我的收藏 </Link>\r\n            <Link className=\"option\" to=\"/projector\"> 播放 </Link>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default Header;","import React from 'react';\r\nimport { parse } from 'iso8601-duration';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './card.styles.sass';\r\n\r\nclass Card extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    timeString = (duration) => {\r\n        let { years, months, days, hours, minutes, seconds } = parse(duration);\r\n        let arr = [years, months, days, hours, minutes, seconds];\r\n        let str = \"\";\r\n        for(let i=0 ; i<arr.length; i++){\r\n            if(arr[i] && arr[i] > 0){\r\n                str += arr[i];\r\n                str += i < arr.length-1 ? \":\" : \"\"\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\n    cutoffString = (description, limit) => {\r\n        let str = description.slice(0, limit);\r\n        if(description.length > limit)\r\n            str += \"...\";\r\n        return str;\r\n    }\r\n    render(){\r\n        const { vdid, title, description, duration, thumbnails, ...itemProps} = this.props;\r\n        const href = \"/projector/\" + vdid;\r\n        return (\r\n            <div className=\"card\">\r\n                <Link to={href} >\r\n                    <div className=\"card-container\">\r\n                        <img \r\n                            className=\"card-image\" \r\n                            src={thumbnails.medium.url}\r\n                            // srcSet={`${thumbnails.medium.url} 1000w, ${thumbnails.default.url} 600w`}\r\n                            alt=''\r\n                        />\r\n                        <div className=\"card-duration\">{this.timeString(duration)}</div>\r\n                    </div>\r\n                </Link>\r\n                <div className=\"card-info\">\r\n                    <h4 className=\"card-title\">{this.cutoffString(title, 40)}</h4>\r\n                    <p className=\"card-description\">{this.cutoffString(description, 100)}</p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport './collection.styles.sass';\r\n\r\nimport Card from '../card/card.component';\r\n\r\nconst Collection = ({ result }) => {\r\n    return (\r\n        <div className=\"collection\">\r\n            {\r\n                result.items.map(({ id, snippet, contentDetails, ...itemProps}) => (\r\n                    <Card\r\n                        key={id}\r\n                        vdid={id} \r\n                        title={snippet.title} \r\n                        description={snippet.description} \r\n                        duration={contentDetails.duration}\r\n                        thumbnails={snippet.thumbnails}\r\n                        {...itemProps}\r\n                    />\r\n                ))\r\n            }\r\n        </div> \r\n    )\r\n}\r\n\r\nexport default Collection;\r\n","const youtubeConfig = {\r\n    apiKey: \"AIzaSyDEA7zZ9AYlB6NKG7DMycAWoThNn_pMEwo\",\r\n    apiUrl: \"https://www.googleapis.com/youtube/v3/\",\r\n    watchUrl: \"https://www.youtube.com/watch\"\r\n};\r\n\r\nexport const searchListVideo = async (params) => {\r\n    const apiUrl = new URL(youtubeConfig.apiUrl + \"videos\");\r\n    const searchParams = new URLSearchParams(params);\r\n    searchParams.append(\"key\", youtubeConfig.apiKey);\r\n    apiUrl.search = searchParams.toString();\r\n    return await fetch(apiUrl)\r\n                    .then(response => {\r\n                        return response.json();\r\n                    });\r\n}\r\n\r\nexport const watchYoutubeUrl = (videoId) => {\r\n    const watchUrl = new URL(youtubeConfig.watchUrl);\r\n    const searchParams = new URLSearchParams({ \"v\": videoId });\r\n    watchUrl.search = searchParams.toString();\r\n\r\n    return watchUrl.toString();\r\n}\r\n\r\n","import React from 'react';\r\n\r\nimport Collection from '../../components/collection/collection.component';\r\nimport { searchListVideo } from '../../youtube/youtube.v3.util';\r\nimport './homepage.styles.sass';\r\n\r\nclass HomePage extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    \r\n        this.state = {\r\n            isLoaded: false,\r\n            result: null\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        let param = {\r\n            part: \"snippet,contentDetails\",\r\n            chart: \"mostPopular\",\r\n            regionCode: \"TW\",\r\n            maxResults: 12\r\n        };\r\n        searchListVideo(param)\r\n            .then(result => {\r\n                this.setState({\r\n                    result, isLoaded: true\r\n                })\r\n            })\r\n        \r\n    }\r\n  \r\n    componentWillUnmount(){\r\n  \r\n    }\r\n\r\n    render(){\r\n        const { isLoaded, result } = this.state;\r\n        if(!isLoaded){\r\n            return (<div className=\"loading\">Loading...</div>)\r\n        }else{\r\n            return (\r\n                <div className=\"homepage\">\r\n                    <Collection result = {result} />\r\n                    {/* <Pagination /> */}\r\n                    \r\n                </div>  \r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport './custom-button.styles.sass';\r\n\r\nconst CustomButton = ({ children, vdid, isTrash, isHeart, isCollected, ...otherProps }) => (\r\n    <button \r\n        className={\r\n            `${isTrash ? \"trash\" : \"\"} ${isHeart ? isCollected ? \"heart collected\" : \"heart\" : \"\"}  custom-button`\r\n        }\r\n        data-id={vdid} \r\n        { ...otherProps }\r\n    >\r\n        { children }\r\n    </button>\r\n);\r\n\r\nexport default CustomButton;","import React from 'react';\r\nimport { parse } from 'iso8601-duration';\r\nimport { Link } from 'react-router-dom';\r\nimport CustomButton from '../custom-button/custom-button.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './list-item.styles.sass';\r\n\r\nclass ListItem extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    timeString = (duration) => {\r\n        let { years, months, days, hours, minutes, seconds } = parse(duration);\r\n        let arr = [years, months, days, hours, minutes, seconds];\r\n        let str = \"\";\r\n        for(let i=0 ; i<arr.length; i++){\r\n            if(arr[i] && arr[i] > 0){\r\n                str += arr[i];\r\n                str += i < arr.length-1 ? \":\" : \"\"\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n\r\n    cutoffString = (description, limit) => {\r\n        let str = description.slice(0, limit);\r\n        if(description.length > limit)\r\n            str += \"...\";\r\n        return str;\r\n    }\r\n\r\n    render(){\r\n        const { vdid, title, description, duration, thumbnails, removeHandler, ...itemProps} = this.props;\r\n        const href = \"/projector/\" + vdid;\r\n        return (\r\n            <div className=\"listitem\">\r\n                <Link to={href} >\r\n                    <div className=\"listitem-container\">\r\n                        <img \r\n                            className=\"listitem-image\" \r\n                            src={thumbnails.medium.url}\r\n                            // srcSet={`${thumbnails.medium.url} 1000w, ${thumbnails.standard.url} 600w, ${thumbnails.standard.url} 300w`}\r\n                            alt=''\r\n                        />\r\n                        <div className=\"listitem-duration\">{this.timeString(duration)}</div>\r\n                    </div>\r\n                </Link>\r\n                <div className=\"listitem-info\">\r\n                    <h4 className=\"listitem-title\">{this.cutoffString(title, 100)}</h4>\r\n                    <span className=\"listitem-description\">{this.cutoffString(description, 300)}</span>\r\n                </div>\r\n                <div className=\"listitem-func\">\r\n                    <CustomButton isTrash onClick={ removeHandler } vdid={vdid}><FontAwesomeIcon icon={faTrash} size=\"2x\" /></CustomButton>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default ListItem;","import React from \"react\";\r\nimport './list.styles.sass';\r\n\r\nimport ListItem from '../list-item/list-item.component';\r\n\r\nclass List extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        const { result, empty, removeHandler } = this.props;\r\n        return (\r\n            <div className=\"list\">\r\n                {\r\n                    empty?\r\n                        <h3>您還未收藏影片喔!</h3>\r\n                    :\r\n                        result.items.map(({ id, snippet, contentDetails, ...itemProps}) => (\r\n                            <ListItem\r\n                                key={id}\r\n                                vdid={id} \r\n                                title={snippet.title} \r\n                                description={snippet.description} \r\n                                duration={contentDetails.duration}\r\n                                thumbnails={snippet.thumbnails}\r\n                                removeHandler = {removeHandler}\r\n                                {...itemProps}\r\n                            />\r\n                        ))\r\n                    \r\n                }\r\n            </div> \r\n        )\r\n    }\r\n}\r\n\r\nexport default List;\r\n","\r\nexport const VIDEO_COLLECTION = \"MY_VIDEO_COLLECTION\";\r\n","import React from 'react';\r\nimport List from '../../components/list/list.component';\r\nimport { searchListVideo } from '../../youtube/youtube.v3.util';\r\nimport { VIDEO_COLLECTION } from '../../systemconfig';\r\n\r\nimport './favorites.styles.sass';\r\n\r\nclass FavoritesPage extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    \r\n        this.state = {\r\n            empty: true,\r\n            isLoaded: false,\r\n            result: null\r\n        };\r\n        if(!localStorage.getItem(VIDEO_COLLECTION)){\r\n            localStorage.setItem(VIDEO_COLLECTION, \"[]\");\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        let collection = JSON.parse(localStorage.getItem(VIDEO_COLLECTION));\r\n        if(collection.length < 1){\r\n            this.setState({ isLoaded: true });\r\n            return;\r\n        }\r\n\r\n        this.query(collection)\r\n                .then(result => {\r\n                    this.setState({ result, isLoaded: true, empty: false });\r\n                });        \r\n    }\r\n  \r\n    query = (collection) => {\r\n        return searchListVideo(\r\n            {\r\n                part: \"snippet,contentDetails\",\r\n                id: collection.join(\",\")\r\n            }\r\n        );\r\n    }\r\n\r\n    removeVideoFromList = (evt) => {\r\n        const id = evt.currentTarget.dataset.id;\r\n        let collection = JSON.parse(localStorage.getItem(VIDEO_COLLECTION));\r\n        \r\n        collection.splice(collection.indexOf(id), 1);\r\n        localStorage.setItem(VIDEO_COLLECTION, JSON.stringify(collection));\r\n        \r\n        if(collection.length < 1 ){\r\n            this.setState({ result: null, empty: true });\r\n        }else{\r\n            this.query(collection)\r\n                    .then(result => {\r\n                        this.setState({ result });\r\n                    });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        const { isLoaded, result, empty } = this.state;\r\n        if(!isLoaded){\r\n            return (<div className=\"loading\">Loading...</div>)\r\n        }else{\r\n            return (\r\n                <div className=\"favoritespage\">\r\n                    <h3>我的收藏影片</h3>\r\n                    <List result = {result} empty = {empty} removeHandler = {this.removeVideoFromList} />\r\n                    {/* <Pagination /> */}\r\n                </div>  \r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default FavoritesPage;","import React from 'react';\r\nimport ReactPlayer from 'react-player';\r\nimport { searchListVideo, watchYoutubeUrl } from '../../youtube/youtube.v3.util';\r\nimport { VIDEO_COLLECTION } from '../../systemconfig';\r\nimport CustomButton from '../../components/custom-button/custom-button.component';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHeart } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './projector.styles.sass';\r\n\r\nclass Projectorpage extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n      \r\n        this.state = {\r\n            source: null,\r\n            item: null,\r\n            collected: false,\r\n            isYoutube: false,\r\n            adDisplay: false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        const youtubeId = this.props.match.params.youtubeId;\r\n        if(youtubeId){\r\n            let collection = JSON.parse(localStorage.getItem(VIDEO_COLLECTION));\r\n            if(collection.indexOf(youtubeId) > -1){\r\n                this.setState({ \r\n                    collected: true\r\n                });\r\n            }\r\n            this.query(youtubeId)\r\n                .then(result => {\r\n                    this.setState({ \r\n                        item: result.items[0],\r\n                        source: watchYoutubeUrl(youtubeId),\r\n                        isYoutube: true\r\n                    });\r\n                });   \r\n          \r\n        }else{\r\n            this.setState({\r\n                item: {\r\n                    snippet: { title: \"m3u8測試影片\" }\r\n                },\r\n                source: 'https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'\r\n            });\r\n        }\r\n    }\r\n\r\n    query = (vid) => {\r\n        return searchListVideo(\r\n            {\r\n                part: \"snippet\",\r\n                id: vid\r\n            }\r\n        );\r\n    }\r\n\r\n    pauseHandler = ()=>{\r\n        this.setState({\r\n            adDisplay: true\r\n        })\r\n    }\r\n\r\n    collectHandler = (evt)=>{\r\n        const id = evt.currentTarget.dataset.id;\r\n        let collection = JSON.parse(localStorage.getItem(VIDEO_COLLECTION));\r\n        if(collection.indexOf(id) > -1){\r\n            alert(\"已經收藏囉!\")\r\n        }else{\r\n            collection.push(id);\r\n            localStorage.setItem(VIDEO_COLLECTION, JSON.stringify(collection));\r\n            this.setState({\r\n                collected: true\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    removeHandler = (evt) => {\r\n        const id = evt.currentTarget.dataset.id;\r\n        let collection = JSON.parse(localStorage.getItem(VIDEO_COLLECTION));\r\n        collection.splice(collection.indexOf(id), 1);\r\n        localStorage.setItem(VIDEO_COLLECTION, JSON.stringify(collection));\r\n        this.setState({\r\n            collected: false\r\n        })\r\n    }\r\n\r\n    render(){\r\n        const { source, item, collected, isYoutube, adDisplay } = this.state;\r\n        return (\r\n            <div className=\"projectorpage\">\r\n                <div className = \"projectorpage-player\">\r\n                    <ReactPlayer \r\n                        url={source}\r\n                        playing \r\n                        controls\r\n                        onPause = {this.pauseHandler}\r\n                        width='100%'\r\n                        height='100%'\r\n                    />\r\n                </div>\r\n                {\r\n                    item &&\r\n                    <div className=\"projectorpage-info\">\r\n                        <div className=\"projectorpage-info-titlebox\">\r\n                            <h2 className=\"projectorpage-info-titlebox-title\">{ item.snippet.title }</h2>\r\n                            {\r\n                               isYoutube &&  \r\n                                <div className=\"projectorpage-info-titlebox-func\">\r\n                                    {\r\n                                        collected ? \r\n                                        <CustomButton isHeart isCollected onClick={ this.removeHandler } vdid={item.id} ><FontAwesomeIcon icon={faHeart} size=\"2x\" /></CustomButton>\r\n                                        :\r\n                                        <CustomButton isHeart onClick={ this.collectHandler } vdid={item.id} ><FontAwesomeIcon icon={faHeart} size=\"2x\" /></CustomButton>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <article className=\"projectorpage-info-desc\">\r\n                            { item.snippet.description }\r\n                        </article>\r\n                    </div>\r\n                }\r\n                {\r\n                    adDisplay && \r\n                    <div className=\"advertisement\" onClick={ ()=>{ this.setState({ adDisplay: false }) } }>\r\n                        <div className=\"advertisement-content\"> 廣告 </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Projectorpage;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport './App.css';\n\nimport Header from './components/header/header.component';\nimport HomePage from './pages/homepage/homepage.component';\nimport FavoritesPage from './pages/favorites/favorites.component';\nimport Projectorpage from './pages/projector/projector.component';\n\nclass App extends React.Component {\n  constructor(){\n    super();\n    this.state = {\n      \n    }\n  }\n\n  componentDidMount(){\n\n  }\n\n  componentWillUnmount(){\n\n  }\n\n  render(){\n    return (\n      <div>\n        <Header/>\n        <Switch>\n          <Route exact path='/youtubapi-demo/' component={HomePage} />\n          <Route exact path='/youtubapi-demo/projector' component={Projectorpage} />\n          <Route path='/youtubapi-demo/projector/:youtubeId' component={Projectorpage} />\n          <Route path='/youtubapi-demo/favorites' component={FavoritesPage} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}